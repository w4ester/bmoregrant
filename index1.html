<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Baltimore AI Producers Lab - Grant Tracker</title>
  <meta name="description" content="Grant application tracking dashboard for the Baltimore AI Producers Lab program." />
  <link rel="stylesheet" href="styles.css" />
  <script defer src="app.js"></script>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <div class="container header-inner">
      <div class="title-group">
        <div class="brand-header">
          <div class="baltimore-badge">
            <span class="badge-letter">B</span>
          </div>
          <div class="brand-text">
            <h1 id="app-title">Baltimore AI Producers Lab</h1>
            <p id="app-subtitle">Grant Application Tracker</p>
          </div>
        </div>
      </div>

      <div class="headline-widgets">
        <div class="widget">
          <label for="grantName" class="sr-only">Grant name</label>
          <input id="grantName" type="text" placeholder="Grant name (optional)" />
        </div>

        <div class="widget">
          <label for="deadline" class="widget-label">Deadline</label>
          <input id="deadline" type="date" />
          <div id="daysRemaining" class="muted small"></div>
        </div>

        <div class="widget donut" aria-live="polite" aria-label="Completion progress">
          <svg viewBox="0 0 120 120" role="img" aria-labelledby="progressTitle">
            <title id="progressTitle">Tasks completion</title>
            <circle class="ring-bg" cx="60" cy="60" r="52"></circle>
            <circle class="ring" cx="60" cy="60" r="52" stroke-dasharray="0 999"></circle>
            <text x="60" y="66" text-anchor="middle" class="donut-label"><tspan id="progressPct">0%</tspan></text>
          </svg>
        </div>
      </div>
    </div>
  </header>

  <nav class="tabs container" aria-label="Sections">
    <button class="tab active" data-target="section-draft">Draft & Resources</button>
    <button class="tab" data-target="section-tasks">Tasks</button>
    <button class="tab" data-target="section-budget">Budget</button>
    <button class="tab" data-target="section-notes">Notes</button>
    <div class="tabs-right">
      <button id="exportBtn" class="secondary">Export</button>
      <label class="file-btn secondary" title="Import a previously exported JSON">
        Import <input id="importInput" type="file" accept="application/json" hidden />
      </label>
      <button id="printBtn" class="secondary">Print</button>
      <button id="clearBtn" class="danger">Reset</button>
    </div>
  </nav>

  <main id="main" class="container">

    <!-- DRAFT & RESOURCES -->
    <section id="section-draft" class="section active" tabindex="-1">
      <div class="card">
        <h2>Draft</h2>
        <p class="muted small">Your Google Doc may not allow embedding unless it’s “Published to the web.” The buttons below always work.</p>
        <div class="actions">
          <a class="button" target="_blank" rel="noopener noreferrer"
             href="https://docs.google.com/document/d/1R1fGxzNP_Hq4Jb-Mbb_-4XdNeHTjeUM0pwWWkH0YWVM/edit?tab=t.0">
            Open Draft (Google Docs)
          </a>
          <a class="button secondary" target="_blank" rel="noopener noreferrer"
             href="https://docs.google.com/document/d/1R1fGxzNP_Hq4Jb-Mbb_-4XdNeHTjeUM0pwWWkH0YWVM/preview">
            Preview (embed-friendly)
          </a>
        </div>

        <div class="embed-wrap">
          <iframe title="Draft preview"
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                  src="https://docs.google.com/document/d/1R1fGxzNP_Hq4Jb-Mbb_-4XdNeHTjeUM0pwWWkH0YWVM/preview">
          </iframe>
          <div class="embed-fallback">
            If the preview doesn’t load, use the “Open Draft” button above.
          </div>
        </div>
      </div>

      <div class="grid two">
        <div class="card">
          <h3>Resource: Baltimore City Digital Inclusion Strategy (PDF)</h3>
          <div class="actions">
            <a class="button secondary" target="_blank" rel="noopener noreferrer"
               href="https://technology.baltimorecity.gov/sites/default/files/Baltimore%20City_Digital%20Inclusion%20Strategy.pdf">
              Open PDF
            </a>
          </div>
          <div class="embed-wrap">
            <object data="https://technology.baltimorecity.gov/sites/default/files/Baltimore%20City_Digital%20Inclusion%20Strategy.pdf#view=FitH"
                    type="application/pdf">
              <p>PDF preview not supported in this browser. Use “Open PDF”.</p>
            </object>
          </div>
        </div>

        <div class="card">
          <h3>Resource: GitLab Foundation – AI for Economic Opportunity Fund (FAQs)</h3>
          <p class="muted small">Use this while shaping scope, eligibility, and submission details.</p>
          <div class="actions">
            <a class="button" target="_blank" rel="noopener noreferrer"
               href="https://gitlabfoundation.notion.site/FAQs-AI-for-Economic-Opportunity-Demonstration-and-Scaling-Fund-dee4ee1feb1a45978ecf8b1139160d57#dee4ee1feb1a45978ecf8b1139160d57">
              Open FAQs
            </a>
          </div>
          <ul class="bullets">
            <li>Capture required attachments as tasks.</li>
            <li>Mirror budget assumptions in the Budget tab.</li>
            <li>Record clarifying answers in Notes with timestamps.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- TASKS -->
    <section id="section-tasks" class="section" tabindex="-1">
      <div class="card">
        <div class="card-header">
          <h2>Tasks</h2>
          <div class="filters">
            <label>Search <input id="taskSearch" type="search" placeholder="title, owner, category…" /></label>
            <label>Status
              <select id="filterStatus">
                <option value="all">All</option>
                <option>Not started</option>
                <option>In progress</option>
                <option>Blocked</option>
                <option>Done</option>
              </select>
            </label>
            <label>Category
              <select id="filterCategory">
                <option value="all">All</option>
                <option>Narrative</option>
                <option>Budget</option>
                <option>Letters</option>
                <option>Compliance</option>
                <option>Other</option>
              </select>
            </label>
            <button id="addSampleTasks" class="secondary small">Add sample tasks</button>
          </div>
        </div>

        <form id="taskForm" class="grid task-form" autocomplete="off">
          <input id="taskTitle" type="text" placeholder="Task title *" required aria-required="true" />
          <input id="taskOwner" type="text" placeholder="Owner" />
          <input id="taskDue" type="date" />
          <select id="taskStatus">
            <option>Not started</option>
            <option>In progress</option>
            <option>Blocked</option>
            <option>Done</option>
          </select>
          <select id="taskCategory">
            <option>Narrative</option>
            <option>Budget</option>
            <option>Letters</option>
            <option>Compliance</option>
            <option>Other</option>
          </select>
          <select id="taskPriority" title="Priority">
            <option value="P3">P3</option>
            <option value="P2">P2</option>
            <option value="P1">P1</option>
          </select>
          <button class="button" type="submit">Add</button>
        </form>

        <div class="table-wrap">
          <table class="table" id="taskTable">
            <thead>
              <tr>
                <th>Title</th>
                <th>Owner</th>
                <th>Due</th>
                <th>Status</th>
                <th>Category</th>
                <th>Priority</th>
                <th class="actions-col">Actions</th>
              </tr>
            </thead>
            <tbody id="taskTbody" aria-live="polite"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- BUDGET -->
    <section id="section-budget" class="section" tabindex="-1">
      <div class="card">
        <div class="card-header">
          <h2>Budget</h2>
          <div class="totals">
            <div>Total: <strong id="budgetTotal">$0</strong></div>
            <div>Secured: <strong id="budgetSecured">$0</strong></div>
            <div>Gap: <strong id="budgetGap">$0</strong></div>
          </div>
        </div>

        <form id="budgetForm" class="grid budget-form" autocomplete="off">
          <input id="budgetItem" type="text" placeholder="Item *" required aria-required="true" />
          <input id="budgetAmount" type="number" step="0.01" min="0" placeholder="Amount *" required aria-required="true" />
          <select id="budgetStatus">
            <option value="pending">Pending</option>
            <option value="secured">Secured</option>
          </select>
          <input id="budgetNotes" type="text" placeholder="Notes" />
          <button class="button" type="submit">Add</button>
        </form>

        <div class="table-wrap">
          <table class="table" id="budgetTable">
            <thead>
              <tr>
                <th>Item</th>
                <th>Amount</th>
                <th>Status</th>
                <th>Notes</th>
                <th class="actions-col">Actions</th>
              </tr>
            </thead>
            <tbody id="budgetTbody" aria-live="polite"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- NOTES -->
    <section id="section-notes" class="section" tabindex="-1">
      <div class="card">
        <div class="notes-header">
          <h2>Notes</h2>
          <div class="muted small" id="lastSaved">Not saved yet</div>
        </div>
        <textarea id="notes" rows="10" placeholder="Use this space for decisions, Q&A from the FAQ, phone call notes, etc. Autosaves."></textarea>
        <div class="notes-actions">
          <button id="timestampBtn" class="secondary small">Insert timestamp</button>
        </div>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container">
      <div>Data is stored locally in your browser (no server).</div>
      <div class="muted small">Pro tip: Use Export to back up or share with teammates; Import to load it later.</div>
    </div>
  </footer>
</body>
</html>
